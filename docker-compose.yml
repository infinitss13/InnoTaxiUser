version: '3'

volumes:
  prometheus_data: {}
  grafana_data: {}


services:
  postgres:
    image: postgres
    environment:
      POSTGRES_PASSWORD: 'qwerty'
    ports:
      - '5436:5432'
  monkedb:
    image: 'mongo:4.4.6'
    container_name: 'monke'
    ports:
      - '27017:27017'
  redis:
    image: redis
    ports:
      - '6379:6379'
#  prometheus:
#    image: prom/prometheus:latest
#    volumes:
#      - ./prometheus:/etc/prometheus/
#    command:
#      - '--config.file=/etc/prometheus/prometheus.yml'
#      - '--storage.tsdb.path=/prometheus'
#    ports:
#      - '9090:9090'
#    depends_on:
#      - go-service-with-metrics
#  go-service-with-metrics:
#    build: Dockerfile
#    ports:
#      - 8000:8000
#  grafana:
#    image: grafana/grafana:latest
#    ports:
#      - 3000:3000
#    depends_on:
#      - prometheus